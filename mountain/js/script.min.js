"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var map;function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:14})}var Slider=function t(e){var n=this;_classCallCheck(this,t);var r=e.sliderWrapper,i=e.time,o=void 0===i?1e3:i,a=e.easing,l=void 0===a?"ease":a,c=e.arrows,s=void 0===c||c,u=e.slideCount,d=void 0===u?1:u,p=e.autoPlay,m=void 0!==p&&p,v=e.autoPlayInterval,f=void 0===v?1e3:v;if(this.sliderWrapper=document.querySelector(r),this.sliderList=this.sliderWrapper.querySelector("".concat(r,">div")),this.sliderSlide=this.sliderWrapper.querySelectorAll("".concat(r,">div>div")),s){var g=document.createElement("div"),h=document.createElement("div");g.classList.add("slider-button","prev-button","icon-button"),h.classList.add("slider-button","next-button","icon-button"),this.prev=this.sliderWrapper.appendChild(g),this.next=this.sliderWrapper.appendChild(h)}var y=/([-0-9.]+(?=px))/,b=Array.from(this.sliderSlide),_=b[b.length-1].cloneNode(!0),L=b[b.length-2].cloneNode(!0),E=b.map((function(t){return t.cloneNode(!0)}));this.sliderList.prepend(_),this.sliderList.prepend(L),E.forEach((function(t){t.classList.add("cloned"),n.sliderList.append(t)}));var w=[L,_].concat(_toConsumableArray(b),_toConsumableArray(E));d>b.length&&(d=b.length),w.forEach((function(t){t.style.width="".concat(n.sliderWrapper.offsetWidth/d,"px")}));var A=w[1].offsetWidth;this.sliderList.style.width="".concat(A*w.length,"px");var S=0,C=0,x=0,I=-2*A;this.sliderList.style.transform="translate3D(".concat(I,"px, 0, 0)"),this.move=function(t){C=I+A*(S+=t),S<1-b.length?(x=-2*A,S=0):x=C,S>=1&&(S=-(b.length-1),x=-A*(b.length+1)),n.sliderList.style.transform="translate3D(".concat(C,"px, 0, 0)"),n.sliderList.style.transition="all ".concat(o,"ms ").concat(l),s&&(-1===t&&n.next.classList.add("disabled"),1===t&&n.prev.classList.add("disabled")),n.sliderWrapper.removeEventListener("touchstart",n.swipeStart),n.sliderWrapper.removeEventListener("mousedown",n.swipeStart),setTimeout((function(){s&&(n.next.classList.remove("disabled"),n.prev.classList.remove("disabled")),n.sliderWrapper.addEventListener("touchstart",n.swipeStart),n.sliderWrapper.addEventListener("mousedown",n.swipeStart),n.sliderList.style.transition="none",n.sliderList.style.transform="translate3D(".concat(x,"px, 0, 0)")}),o)};var P,T=0,k=0,O=0,q=0,W=.35*A;this.getEvent=function(){return-1!==event.type.search("touch")?event.touches[0]:event},this.swipeStart=function(){var t=n.getEvent();T=k=t.clientX,n.sliderList.style.transition="",document.addEventListener("touchmove",n.swipeAction),document.addEventListener("mousemove",n.swipeAction),document.addEventListener("touchend",n.swipeEnd),document.addEventListener("mouseup",n.swipeEnd)},this.swipeAction=function(){var t=n.getEvent(),e=+n.sliderList.style.transform.match(y)[0];O=k-t.clientX,k=t.clientX,n.sliderList.style.transform="translate3d(".concat(e-O,"px, 0px, 0px)")},this.swipeEnd=function(){q=T-k,document.removeEventListener("touchmove",n.swipeAction),document.removeEventListener("mousemove",n.swipeAction),document.removeEventListener("touchend",n.swipeEnd),document.removeEventListener("mouseup",n.swipeEnd),Math.abs(q)>W?T<k?n.move(1):T>k&&n.move(-1):n.move(0)},!0===m&&f<=o+100&&(f=o+100),this.autoPlay=function(){P=setInterval((function(){n.move(-1)}),f)},this.sliderWrapper.addEventListener("mouseenter",(function(){clearInterval(P)})),this.sliderWrapper.addEventListener("mouseleave",(function(){m&&n.autoPlay()})),m&&this.autoPlay(),this.sliderWrapper.addEventListener("touchstart",this.swipeStart),this.sliderWrapper.addEventListener("mousedown",this.swipeStart),s&&(this.prev.addEventListener("click",(function(){n.move(1)})),this.next.addEventListener("click",(function(){n.move(-1)})))},slider=new Slider({sliderWrapper:".tours__body",slideCount:3}),blogInfo=[{id:1,title:"Как подготовиться к первому восхождению на вершину",date:"15 January 2020",text:["Перед тем, как отправиться на покорение вершины горы, нужно не только привести в порядок свою физическую форму, но и тренировать выносливость, дыхательную и сердечно-сосудистую системы. Именно на них приходится максимальная нагрузка на высоте. Поэтому из-за недостаточной подготовки вы можете сойти на полпути. Чтобы этого не случилось, занимайтесь плаванием, бегом, велосипедом и кардиотренировками.","Как должны проходить тренировки? В первую очередь, тренировки должны проходить постоянно, эффективно и интенсивно. Кроме того, нагрузка постепенно должна увеличиваться. В случае с бегом обязательно делать это с учетом пульса. Грамотно спланированный бег позволит не только сбросить вес, но и укрепит сердечную мышцу. При беге с высоким пульсом вы позволите организму привыкнуть к недостатку кислорода — то, с чем обязательно встретитесь в горах. Для укрепления физической подготовки и повышения выносливости также бегайте в горку или в быстром темпе поднимайтесь по лестницам. И не забудьте отдохнуть за неделю до путешествия!"],img:"./img/blog/blog-img"},{id:2,title:"Фестиваль Alpika Freeski Аlpindustria Fest Красная Поляна 13-16 февраля",date:"10 March 2020",text:["14-16 ФЕВРАЛЯ В КРАСНОЙ ПОЛЯНЕ НА СКЛОНАХ ГТЦ ГАЗПРОМ 'АЛЬПИКА' В РАМКАХ ФЕСТИВАЛЯ, ОРГАНИЗОВАННОГО КОМПАНИЕЙ АЛЬПИНДУСТРИЯ, ПРОЙДУТ СОРЕВНОВАНИЯ И МАСТЕР КЛАССЫ ПО СКИ-АЛЬПИНИЗМУ, ПРОХОДЯЩИЕ ПОД КОНТРОЛЕМ ТЕХНИЧЕСКОГО КОМИТЕТА ФАИС МОСКВЫ ПРИ НЕПОСРЕДСТВЕННОМ УЧАСТИИ АНО 'ЦК СА И СД'","ЗАПЛАНИРОВАНО ПРОВЕДЕНИЕ ДВУХ ГОНОК:","В ПЕРВЫЙ ДЕНЬ - ИНДИВИДУАЛЬНОЙ С СУММАРНЫМ НАБОРОМ ВЫСОТЫ СВЫШЕ 1000 МЕТРОВ И ДАЛЕЕ - КОМАНДНОЙ ГОНКИ ЛИБО ГРУППОВОЙ ЭСТАФЕТЫ ПО ИЗМЕНЕННОЙ ТРАССЕ ПЕРВОГО ДНЯ.","РЕЗУЛЬТАТЫ ГОНОК БУДУТ ПОДВЕДЕНЫ В ДВУХ ЗАЧЕТАХ: 'СПОРТИВНОМ' - ДЛЯ УЧАСТНИКОВ С ГОНОЧНЫМ СНАРЯЖЕНИЕМ И 'ЛЮБИТЕЛЬСКОМ' - ДЛЯ ВЛАДЕЛЬЦЕВ ФРИРАЙДНОГО И ИНОГО 'ТЯЖЕЛОГО' СКИТУР СНАРЯЖЕНИЯ, СПЛИТБОРДОВ И ТЕЛЕМАРК ЭКИПИРОВКИ.","В связи с обильными снегопадами трасса индивидуальной гонки будет готовиться 13.02.2020 и представлена на брифинге ориентировочно в 18:00"],img:"./img/blog/blog-img"},{id:3,title:"Особенности альпинизма на Камчатке. Все о Ключевcкой Сопке",date:"21 May 2020",text:["Ключевская сопка - один из самых активных вулканов не только Камчатки, но и всей Евразии. Расход магмы при извержениях этого вулкана может достигать 6 000 тонн в год. В сравнении, такой объем вулканического материала выходит на поверхность в районе вулканов всей Курило-Камчатской гряды.","Вулкан располагается на восточной части Камчатки. Входит в состав Тихоокеанского огненного кольца, которое в свою очередь тянется от Камчатки на юг, проходит экватор, а затем до самого Эребуса в Антарктиде. В пределах этого кольца совершается наибольший процент от всех землетрясений и извержений в мире.","Восхождение на вулкан относится к экстремальному виду туризма и требуют специальной подготовки. может сопровождаться посещением пещер, ледников, каньона в реке Студеная, единственной на Камчатке поляны эдельвейсов. Добравшись до вершины вас будет переполнять восторг, потому что не каждый день вы можете оказаться выше облаков. Однако пробыть здесь длительно время не представляется возможным. Высота, газы из кратера, разряженный воздух дают о себе знать, становится трудно дышать и начинает кружится голова. Самый благоприятный сезон для восхождения с июля по октябрь."],img:"./img/blog/blog-img"},{id:4,title:"Что происходит с человеком на высоте более 3000 метров?",date:"11 Jule 2020",text:["Горы манят людей. Так было и будет всегда. Обилие вертикальных линий, невероятных форм, красок – всё это приводит человека в горы. Но вместе с тем, горы представляют собой не слишком дружественную среду обитания. Они таят множество опасностей, особенно для неподготовленного человека.","Чем же нам грозит высота? Тут можно выделить два основных момента – это разряженная атмосфера и солнечная радиация. Если с солнечной радиацией и жестким ультрафиолетом мы знаем, как бороться, то с разряженной атмосферой и нехваткой кислорода всё сложнее.","В условиях высокогорья солнце весьма опасно, точнее, опасна его ультрафиолетовая компонента. Обгореть можно за каких-то 20-минут, причем до «хрустящей корочки». Солнечные ожоги дадут дополнительную нагрузку на организм, который и без того находится в неблагоприятной среде.","Не менее опасна солнечная радиация для зрения. Под горным солнцем глаза легко сжечь, заработав себе временную слепоту. Такую временную потерю зрения называют «снежной слепотой».","Более того, на любой высоте в воздухе содержится 20,95% кислорода. Это константа. Однако, с высотой атмосферное давление уменьшается. Это значит, что в единице объема воздуха количество молекул кислорода становится меньше, чем при более высоком давлении на уровне моря.","Но не только это влияет на нас. Дело в том, что многие физиологические процессы в нашем организме, связанные с газообменом, завязаны на разнице давлений во внешней среде и наших легких, крови и тканях. И тут низкое атмосферное давление становится важнейшим фактором."],img:"./img/blog/blog-img"},{id:5,title:"Что происходит с человеком на высоте более 3000 метров?",date:"1 September 2020",text:["Перед тем, как отправиться на покорение вершины горы, нужно не только привести в порядок свою физическую форму, но и тренировать выносливость, дыхательную и сердечно-сосудистую системы. Именно на них приходится максимальная нагрузка на высоте. Поэтому из-за недостаточной подготовки вы можете сойти на полпути. Чтобы этого не случилось, занимайтесь плаванием, бегом, велосипедом и кардиотренировками.","Как должны проходить тренировки? В первую очередь, тренировки должны проходить постоянно, эффективно и интенсивно. Кроме того, нагрузка постепенно должна увеличиваться. В случае с бегом обязательно делать это с учетом пульса. Грамотно спланированный бег позволит не только сбросить вес, но и укрепит сердечную мышцу. При беге с высоким пульсом вы позволите организму привыкнуть к недостатку кислорода — то, с чем обязательно встретитесь в горах. Для укрепления физической подготовки и повышения выносливости также бегайте в горку или в быстром темпе поднимайтесь по лестницам. И не забудьте отдохнуть за неделю до путешествия!"],img:"./img/blog/blog-img"}],blog=document.querySelector(".blog__body"),blogList=document.querySelector(".blog__list"),blogArticle=document.querySelector(".blog__article"),counter=0;function printList(t){var e=t.id,n=t.title,r=t.date,i=document.createElement("li"),o=document.createElement("div"),a=document.createElement("p");i.classList.add("blog__list-item"),1===e&&window.innerWidth>=768&&i.classList.add("active"),i.setAttribute("data-id",e),blogList.append(i),o.classList.add("blog__date"),i.append(o),getDate(r,o),a.classList.add("blog__list-item-text"),a.textContent=n,i.append(a)}function printButton(){var t=document.querySelector(".blog__list-container"),e=document.createElement("div");e.textContent="Читать все новости",e.classList.add("blog__list-button","orange-button"),t.append(e)}blogInfo.forEach((function(t){counter>=5||(printList(t),counter++)})),counter>=blogInfo.length&&printButton();var interval,listItem=document.querySelectorAll(".blog__list-item"),article=document.querySelector(".blog__article"),image=article.querySelector(".blog__image picture"),articleDate=article.querySelector(".blog__article-date time"),articleTitle=article.querySelector(".blog__article-title"),articleDescr=article.querySelector(".blog__article-descr"),id=1,i=1;function toggleActive(){listItem.forEach((function(t){return t.classList.remove("active")})),this.classList.add("active")}function getId(){id=this.getAttribute("data-id"),i=id}function toggleArticle(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];blogArticle.classList.remove("active"),t&&(0==i?listItem[listItem.length-1].classList.remove("active"):listItem[i-1].classList.remove("active"),id=++i,listItem[i-1].classList.add("active")),i>=blogInfo.length&&(i=0);var e=blogInfo.find((function(t){return t.id==id})),n="".concat(e.img,"-").concat(e.id);articleTitle.textContent=e.title,getDate(e.date,articleDate),printText(e.text,articleDescr),printImg(n,image,"blog photo"),setTimeout((function(){return blogArticle.classList.add("active")}),0)}function getDate(t,e){e.setAttribute("datetime",new Date(t)),e.textContent=new Date(t).toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"})}function printText(t,e){e.textContent="",t.forEach((function(t){var n=document.createElement("p");n.textContent=t,e.append(n)}))}function printImg(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image",r="".concat(t,".jpg"),i="".concat(t,".webp"),o=document.createElement("source"),a=document.createElement("img");for(a.setAttribute("src",r),a.setAttribute("alt",n),o.setAttribute("srcset",i),o.setAttribute("type","image/webp");e.firstChild;)e.removeChild(e.firstChild);e.append(o),e.append(a)}function autoTabs(){clearInterval(interval),interval=setInterval(toggleArticle,5e3)}window.innerWidth>=768&&toggleArticle(!1),listItem.forEach((function(t){t.addEventListener("click",toggleActive),t.addEventListener("click",getId),t.addEventListener("click",(function(){return toggleArticle(!1)})),window.innerWidth<=768&&t.addEventListener("click",articlePopupOpen)})),window.innerWidth>=768&&(autoTabs(),blog.addEventListener("mouseenter",(function(){clearInterval(interval)})),blog.addEventListener("mouseleave",(function(){autoTabs()})));var tableRow=document.querySelectorAll(".table__row:not(:first-child)");function toggleTableActive(){this.classList.toggle("active")}console.log(tableRow),tableRow.forEach((function(t){t.addEventListener("mouseenter",toggleTableActive),t.addEventListener("mouseleave",toggleTableActive)}));var helpLabel=document.querySelectorAll(".help__label"),helpInput=document.querySelectorAll(".help__input");helpInput.forEach((function(t){t.addEventListener("focus",(function(){this.parentNode.classList.add("active")})),t.addEventListener("blur",(function(){""===this.value&&this.parentNode.classList.remove("active")}))}));var itemArray,Popup=function t(){var e=this;_classCallCheck(this,t);var n,r=document.querySelector(".popup__wrapper"),i=document.querySelector(".popup");this.popupContent=document.querySelector(".popup__content"),this.popupOpen=function(t){r.style.display="flex",setTimeout((function(){r.classList.add("active")}),100),body.style.overflow="hidden"},this.popupClose=function(t){t.stopPropagation(),e.popupContent.textContent="",r.classList.remove("active"),setTimeout((function(){r.style.display="none"}),400),n.remove(),body.style.overflow="auto"},(n=document.createElement("div")).classList.add("popup__close-button"),n.textContent="x",i.appendChild(n),i.addEventListener("click",(function(t){t.stopPropagation()})),r.addEventListener("click",this.popupClose),n.addEventListener("click",this.popupClose)},PricePopup=function(t){_inherits(n,Popup);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),i=e.call(this);t.title;var o=document.createElement("div");for(var a in o.classList.add("price__img"),o.innerHTML='<img src="./img/mount-'.concat(r,'.jpg">'),i.popupContent.appendChild(o),t){var l=document.createElement("div");l.classList.add("price__popup-".concat(a)),l.textContent=t[a],i.popupContent.appendChild(l)}return addButton(i.popupContent,"Заказать"),i}return n}(),priceRow=document.querySelectorAll(".table__row:not(:first-child)");function priceObjGenerator(t){var e={};return e.title=t[0],e.height=t[1],e.level=t[2],e.price=t[3],e}function addButton(t,e){var n=document.createElement("div");n.classList.add("orange-button","popup__button");var r=document.createElement("a");r.classList.add("button__link"),r.textContent=e,n.appendChild(r),t.appendChild(n)}priceRow.forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-img-id");itemArray=Array.from(t.querySelectorAll(".table__cell")).map((function(t){return t.textContent})),new PricePopup(priceObjGenerator(itemArray),e).popupOpen()}))}));var ArticlePopup=function(t){_inherits(n,Popup);var e=_createSuper(n);function n(t){var r;_classCallCheck(this,n),r=e.call(this);var i=blogArticle.cloneNode(!0,!0);return r.popupContent.appendChild(i),console.log(i),r}return n}();function articlePopupOpen(){(new ArticlePopup).popupOpen()}var burger=document.querySelector(".burger__wrapper"),menu=document.querySelector(".menu__list"),body=document.querySelector("body");function burgerFunction(){this.children[0].classList.toggle("active"),menu.classList.toggle("active"),"hidden"!==body.style.overflow?body.style.overflow="hidden":body.style.overflow="auto"}burger.onclick=burgerFunction;var menuLink=document.querySelectorAll(".menu__link");menuLink.forEach((function(t){t.addEventListener("click",(function(){menu.classList.contains("active")&&(menu.classList.remove("active"),body.style.overflow="auto",burger.children[0].classList.toggle("active"))}))}));